mkdir -p ./build
g++ -std=c++11 -O3 -I/opt/intel/oneapi/mkl/2022.0.2/include \
                -Wl,--no-as-needed \
                mkl_spgemm.cpp -o ./build/mkl_spgemm \
                -Wl,--start-group /opt/intel/oneapi/mkl/2022.0.2/lib/intel64/libmkl_intel_lp64.a \
                /opt/intel/oneapi/mkl/2022.0.2/lib/intel64/libmkl_core.a /opt/intel/oneapi/mkl/2022.0.2/lib/intel64/libmkl_gnu_thread.a -Wl,--end-group \
                -fopenmp -lpthread -lm -ldl
./build/mkl_spgemm 2cubes_sphere_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/2cubes_sphere_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/2cubes_sphere_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/2cubes_sphere_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/2cubes_sphere_row_major.mtx
total time: 0.030725s
average_time = 30.725 ms
output nnz is 3128782
./build/mkl_spgemm cage12_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/cage12_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/cage12_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/cage12_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/cage12_row_major.mtx
total time: 0.143170s
average_time = 143.17 ms
output nnz is 15231874
./build/mkl_spgemm email-Eu-core_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/email-Eu-core_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/email-Eu-core_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/email-Eu-core_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/email-Eu-core_row_major.mtx
total time: 0.012324s
average_time = 12.324 ms
output nnz is 331509
./build/mkl_spgemm mario002_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/mario002_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/mario002_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/mario002_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/mario002_row_major.mtx
total time: 0.036349s
average_time = 36.349 ms
output nnz is 2105119
./build/mkl_spgemm poisson3Da_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/poisson3Da_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/poisson3Da_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/poisson3Da_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/poisson3Da_row_major.mtx
total time: 0.026411s
average_time = 26.411 ms
output nnz is 2957530
./build/mkl_spgemm ca-CondMat_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/ca-CondMat_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/ca-CondMat_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/ca-CondMat_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/ca-CondMat_row_major.mtx
total time: 0.018210s
average_time = 18.21 ms
output nnz is 478362
./build/mkl_spgemm CollegeMsg_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/CollegeMsg_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/CollegeMsg_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/CollegeMsg_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/CollegeMsg_row_major.mtx
total time: 0.014877s
average_time = 14.877 ms
output nnz is 407071
./build/mkl_spgemm filter3D_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/filter3D_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/filter3D_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/filter3D_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/filter3D_row_major.mtx
total time: 0.042020s
average_time = 42.02 ms
output nnz is 7069387
./build/mkl_spgemm offshore_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/offshore_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/offshore_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/offshore_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/offshore_row_major.mtx
total time: 0.082667s
average_time = 82.667 ms
output nnz is 8920914
./build/mkl_spgemm scircuit_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/scircuit_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/scircuit_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/scircuit_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/scircuit_row_major.mtx
total time: 0.037045s
average_time = 37.045 ms
output nnz is 5222525
./build/mkl_spgemm wiki-Vote_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/wiki-Vote_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/wiki-Vote_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/wiki-Vote_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/wiki-Vote_row_major.mtx
total time: 0.019318s
average_time = 19.318 ms
output nnz is 1831112
./build/mkl_spgemm amazon0312_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/amazon0312_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/amazon0312_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/amazon0312_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/amazon0312_row_major.mtx
total time: 0.091544s
average_time = 91.544 ms
output nnz is 14390544
./build/mkl_spgemm web-Google_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/web-Google_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/web-Google_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/web-Google_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/web-Google_row_major.mtx
total time: 0.248774s
average_time = 248.774 ms
output nnz is 29710164
./build/mkl_spgemm p2p-Gnutella31_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/p2p-Gnutella31_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/p2p-Gnutella31_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/p2p-Gnutella31_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/p2p-Gnutella31_row_major.mtx
total time: 0.017721s
average_time = 17.721 ms
output nnz is 537601
./build/mkl_spgemm m133-b3_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/m133-b3_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/m133-b3_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/m133-b3_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/m133-b3_row_major.mtx
total time: 0.027208s
average_time = 27.208 ms
output nnz is 3182751
