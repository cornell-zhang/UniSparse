mkdir -p ./build
g++ -std=c++11 -O3 -I/opt/intel/oneapi/mkl/2022.0.2/include \
	-Wl,--no-as-needed \
	mkl_spmv.cpp -o ./build/mkl_spmv \
	-Wl,--start-group /opt/intel/oneapi/mkl/2022.0.2/lib/intel64/libmkl_intel_lp64.a \
	/opt/intel/oneapi/mkl/2022.0.2/lib/intel64/libmkl_core.a /opt/intel/oneapi/mkl/2022.0.2/lib/intel64/libmkl_gnu_thread.a -Wl,--end-group \
	-fopenmp -lpthread -lm -ldl 
./build/mkl_spmv 2cubes_sphere_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/2cubes_sphere_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/2cubes_sphere_row_major.mtx
total time: 0.116277s
average_time = 0.232554 ms
THROUGHPUT = 7.51978 GOPS
./build/mkl_spmv cage12_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/cage12_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/cage12_row_major.mtx
total time: 0.137316s
average_time = 0.274632 ms
THROUGHPUT = 14.8019 GOPS
./build/mkl_spmv email-Eu-core_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/email-Eu-core_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/email-Eu-core_row_major.mtx
total time: 0.048330s
average_time = 0.09666 ms
THROUGHPUT = 0.529092 GOPS
./build/mkl_spmv mario002_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/mario002_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/mario002_row_major.mtx
total time: 0.191764s
average_time = 0.383528 ms
THROUGHPUT = 6.08918 GOPS
./build/mkl_spmv poisson3Da_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/poisson3Da_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/poisson3Da_row_major.mtx
total time: 0.066598s
average_time = 0.133196 ms
THROUGHPUT = 5.29689 GOPS
./build/mkl_spmv ca-CondMat_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/ca-CondMat_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/ca-CondMat_row_major.mtx
total time: 0.030537s
average_time = 0.061074 ms
THROUGHPUT = 3.06176 GOPS
./build/mkl_spmv CollegeMsg_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/CollegeMsg_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/CollegeMsg_row_major.mtx
total time: 0.029716s
average_time = 0.059432 ms
THROUGHPUT = 0.682999 GOPS
./build/mkl_spmv filter3D_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/filter3D_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/filter3D_row_major.mtx
total time: 0.109707s
average_time = 0.219414 ms
THROUGHPUT = 12.8233 GOPS
./build/mkl_spmv offshore_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/offshore_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/offshore_row_major.mtx
total time: 0.222870s
average_time = 0.44574 ms
THROUGHPUT = 10.1011 GOPS
./build/mkl_spmv scircuit_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/scircuit_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/scircuit_row_major.mtx
total time: 0.137267s
average_time = 0.274534 ms
THROUGHPUT = 6.98592 GOPS
./build/mkl_spmv wiki-Vote_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/wiki-Vote_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/wiki-Vote_row_major.mtx
total time: 0.027444s
average_time = 0.054888 ms
THROUGHPUT = 3.7782 GOPS
./build/mkl_spmv amazon0312_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/amazon0312_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/amazon0312_row_major.mtx
total time: 0.404128s
average_time = 0.808256 ms
THROUGHPUT = 7.91937 GOPS
./build/mkl_spmv web-Google_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/web-Google_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/web-Google_row_major.mtx
total time: 0.868006s
average_time = 1.73601 ms
THROUGHPUT = 5.88134 GOPS
./build/mkl_spmv p2p-Gnutella31_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/p2p-Gnutella31_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/p2p-Gnutella31_row_major.mtx
total time: 0.033063s
average_time = 0.066126 ms
THROUGHPUT = 4.47304 GOPS
./build/mkl_spmv m133-b3_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/m133-b3_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/m133-b3_row_major.mtx
total time: 0.075808s
average_time = 0.151616 ms
THROUGHPUT = 10.5635 GOPS
