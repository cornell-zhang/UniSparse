mkdir -p ./build
g++ -std=c++11 -O3 -I/opt/intel/oneapi/mkl/2022.0.2/include \
	-Wl,--no-as-needed \
	mkl_spmv.cpp -o ./build/mkl_spmv \
	-Wl,--start-group /opt/intel/oneapi/mkl/2022.0.2/lib/intel64/libmkl_intel_lp64.a \
	/opt/intel/oneapi/mkl/2022.0.2/lib/intel64/libmkl_core.a /opt/intel/oneapi/mkl/2022.0.2/lib/intel64/libmkl_gnu_thread.a -Wl,--end-group \
	-fopenmp -lpthread -lm -ldl 
./build/mkl_spmv 2cubes_sphere_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/2cubes_sphere_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/2cubes_sphere_row_major.mtx
total time: 0.116078s
average_time = 0.232156 ms
THROUGHPUT = 14.191 GOPS
./build/mkl_spmv cage12_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/cage12_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/cage12_row_major.mtx
total time: 0.126979s
average_time = 0.253958 ms
THROUGHPUT = 16.0069 GOPS
./build/mkl_spmv email-Eu-core_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/email-Eu-core_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/email-Eu-core_row_major.mtx
total time: 0.019834s
average_time = 0.039668 ms
THROUGHPUT = 1.28925 GOPS
./build/mkl_spmv mario002_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/mario002_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/mario002_row_major.mtx
total time: 0.385730s
average_time = 0.77146 ms
THROUGHPUT = 5.44744 GOPS
./build/mkl_spmv poisson3Da_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/poisson3Da_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/poisson3Da_row_major.mtx
total time: 0.044855s
average_time = 0.08971 ms
THROUGHPUT = 7.8645 GOPS
./build/mkl_spmv ca-CondMat_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/ca-CondMat_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/ca-CondMat_row_major.mtx
total time: 0.040744s
average_time = 0.081488 ms
THROUGHPUT = 4.58806 GOPS
./build/mkl_spmv CollegeMsg_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/CollegeMsg_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/CollegeMsg_row_major.mtx
total time: 0.019259s
average_time = 0.038518 ms
THROUGHPUT = 1.05384 GOPS
./build/mkl_spmv filter3D_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/filter3D_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/filter3D_row_major.mtx
total time: 0.188531s
average_time = 0.377062 ms
THROUGHPUT = 14.3593 GOPS
./build/mkl_spmv offshore_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/offshore_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/offshore_row_major.mtx
total time: 0.436940s
average_time = 0.87388 ms
THROUGHPUT = 9.70997 GOPS
./build/mkl_spmv scircuit_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/scircuit_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/scircuit_row_major.mtx
total time: 0.118602s
average_time = 0.237204 ms
THROUGHPUT = 8.08533 GOPS
./build/mkl_spmv wiki-Vote_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/wiki-Vote_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/wiki-Vote_row_major.mtx
total time: 0.025320s
average_time = 0.05064 ms
THROUGHPUT = 4.09514 GOPS
./build/mkl_spmv amazon0312_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/amazon0312_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/amazon0312_row_major.mtx
total time: 0.653352s
average_time = 1.3067 ms
THROUGHPUT = 4.89849 GOPS
./build/mkl_spmv web-Google_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/web-Google_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/web-Google_row_major.mtx
total time: 1.678185s
average_time = 3.35637 ms
THROUGHPUT = 3.042 GOPS
./build/mkl_spmv p2p-Gnutella31_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/p2p-Gnutella31_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/p2p-Gnutella31_row_major.mtx
total time: 0.039293s
average_time = 0.078586 ms
THROUGHPUT = 3.76383 GOPS
./build/mkl_spmv m133-b3_row_major.mtx
filename /work/shared/common/datasets/versatile_sparse_xcel/m133-b3_row_major.mtx
read MTX filename /work/shared/common/datasets/versatile_sparse_xcel/m133-b3_row_major.mtx
total time: 0.077304s
average_time = 0.154608 ms
THROUGHPUT = 10.3591 GOPS
